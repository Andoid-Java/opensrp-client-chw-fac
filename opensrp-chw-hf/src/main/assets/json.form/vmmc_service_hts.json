{
  "validate_on_submit": true,
  "count": "1",
  "encounter_type": "VMMC HTS",
  "entity_id": "",
  "metadata": {
    "start": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "start",
      "openmrs_entity_id": "163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "end": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "end",
      "openmrs_entity_id": "163138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "deviceid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "deviceid",
      "openmrs_entity_id": "163149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "subscriberid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "subscriberid",
      "openmrs_entity_id": "163150AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "simserial": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "simserial",
      "openmrs_entity_id": "163151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "phonenumber": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "phonenumber",
      "openmrs_entity_id": "163152AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "encounter_location": ""
  },
  "global": {},
  "step1": {
    "title": "HIV testing service",
    "fields": [
      {
        "key": "hiv_viral_load_text",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "hiv_viral_load_text",
        "type": "edit_text",
        "hint": "Viral load",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "tested_hiv",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "tested_hiv",
        "type": "native_radio",
        "label": "Client tested for HIV as part of Male Circumcision service ",
        "label_text_size": "18px",
        "options": [
          {
            "key": "yes",
            "text": "Yes",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "yes"
          },
          {
            "key": "no",
            "text": "No",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "no"
          }
        ],
        "value": "",
        "v_required": {
          "value": true
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "hiv_result",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "hiv_result",
        "type": "native_radio",
        "label": "HIV test result ",
        "label_text_size": "18px",
        "options": [
          {
            "key": "positive",
            "text": "Positive",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "positive"
          },
          {
            "key": "negative",
            "text": "Negative",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "negative"
          },
          {
            "key": "indeterminate",
            "text": "Indeterminate",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "indeterminate"
          }
        ],
        "value": "",
        "v_required": {
          "value": true
        },
        "relevance": {
          "step1:tested_hiv": {
            "type": "string",
            "ex": "equalTo(., \"yes\")"
          }
        }
      },
      {
        "key": "defer_procedure",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "defer_procedure",
        "type": "toaster_notes",
        "text": "Defer the procedure and follow HTS procedure",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_indeterminate",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "toaster_notes_indeterminate",
        "type": "toaster_notes",
        "text": "Defer the procedure for one month & follow HTS Guideline",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "step1:hiv_result": {
            "type": "string",
            "ex": "equalTo(., \"indeterminate\")"
          }
        }
      },

      {
        "key": "hiv_not_tested_reasons",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "hiv_not_tested_reasons",
        "type": "native_radio",
        "label": "Reasons",
        "text_color": "#000000",
        "options": [
          {
            "key": "test_kits_out_of_stock",
            "text": "Test kits out of stock",
            "value": false,
            "openmrs_entity": "concept",
            "openmrs_entity_id": "test_kits_out_of_stock"
          },
          {
            "key": "emergency_situation",
            "text": "a client was in an emergency situation",
            "value": false,
            "openmrs_entity": "concept",
            "openmrs_entity_id": "emergency_situation"
          },
          {
            "key": "client_refused ",
            "text": "Client refused to be tested",
            "value": false,
            "openmrs_entity": "concept",
            "openmrs_entity_id": "client_refused"
          },
          {
            "key": "still_counselling",
            "text": "we are still counselling a client",
            "value": false,
            "openmrs_entity": "concept",
            "openmrs_entity_id": "still_counselling"
          },
          {
            "key": "other",
            "text": "Other (specify)",
            "value": false,
            "openmrs_entity": "concept",
            "openmrs_entity_id": "other"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Please specify any other symptoms or select none"
        },
        "relevance": {
          "step1:tested_hiv": {
            "type": "string",
            "ex": "equalTo(., \"no\")"
          }
        }
      },
      {
        "key": "hiv_not_tested_reasons_others",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "hiv_not_tested_reasons_others",
        "type": "edit_text",
        "hint": "Other(Specify)",
        "v_required": {
          "value": "true",
          "err": "Please specify"
        },
        "relevance": {
          "step1:hiv_not_tested_reasons": {
            "type": "string",
            "ex": "equalTo(., \"other\")"
          }
        }
      },
      {
        "key": "self_test_kits_offered",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "self_test_kits_offered",
        "type": "native_radio",
        "label": "Client offered HIV self test kits? ",
        "label_text_size": "18px",
        "options": [
          {
            "key": "yes",
            "text": "Yes",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "yes"
          },
          {
            "key": "no",
            "text": "No",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "no"
          }
        ],
        "value": "",
        "v_required": {
          "value": true
        }
      },
      {
        "key": "was_client_referred",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "was_client_referred",
        "type": "native_radio",
        "label": "Was the client referred?",
        "label_text_size": "18px",
        "options": [
          {
            "key": "yes",
            "text": "Yes",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "yes"
          },
          {
            "key": "no",
            "text": "No",
            "openmrs_entity": "concept",
            "openmrs_entity_id": "no"
          }
        ],
        "value": "",
        "v_required": {
          "value": true
        }
      },
      {
        "key": "client_referred_to",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "client_referred_to",
        "type": "check_box",
        "label": "Client referred to",
        "text_color": "#000000",
        "exclusive": [
          "client_not_referred"
        ],
        "options": [
          {
            "key": "surgical",
            "text": "Surgical/medical",
            "value": false,
            "openmrs_entity": "concept",
            "openmrs_entity_id": "surgical"
          },
          {
            "key": "ctc",
            "text": "CTC",
            "value": false,
            "openmrs_entity": "concept",
            "openmrs_entity_id": "ctc"
          },
          {
            "key": "psychosocial_support ",
            "text": "Psychosocial support",
            "value": false,
            "openmrs_entity": "concept",
            "openmrs_entity_id": "psychosocial_support"
          },
          {
            "key": "other",
            "text": "Other (specify)",
            "value": false,
            "openmrs_entity": "concept",
            "openmrs_entity_id": "other"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Please specify any other symptoms or select none"
        },
        "relevance": {
          "step1:was_client_referred": {
            "type": "string",
            "ex": "equalTo(., \"yes\")"
          }
        }
      },
      {
        "key": "client_referred_to_others",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "client_referred_to_others",
        "type": "edit_text",
        "hint": "Other(Specify)",
        "v_required": {
          "value": "true",
          "err": "Please specify"
        },
        "relevance": {
          "step1:client_referred_to": {
            "ex-checkbox": [
              {
                "or": [
                  "other"
                ]
              }
            ]
          }
        }
      },
      {
        "key": "toaster_notes_contraindication",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "toaster_notes_contraindication",
        "type": "toaster_notes",
        "text": "Clear the following Contraindication",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_genital_examination",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "toaster_notes_genital_examination",
        "type": "toaster_notes",
        "text": "Genital examination contraindication",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_any_complaints",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "toaster_notes",
        "type": "toaster_notes",
        "text": "Client currently complaints contraindication",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_known_allergies",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "toaster_notes",
        "type": "toaster_notes",
        "text": "known allergies medications contraindication",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_any_hematological_disease_symptoms",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "toaster_notes",
        "type": "toaster_notes",
        "text": "symptoms of hematological disease contraindication",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_is_client_diagnosed_with_any",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "toaster_notes",
        "type": "toaster_notes",
        "text": "client has other diagonised contraindication",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_hypertension",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "toaster_notes",
        "type": "toaster_notes",
        "text": "client has hypertension",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_diabetes",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "toaster_notes",
        "type": "toaster_notes",
        "text": "client has diabetes",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_hiv",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "toaster_notes",
        "type": "toaster_notes",
        "text": "client has hiv",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_complications_previous_surgical",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "toaster_notes",
        "type": "toaster_notes",
        "text": "complications related to previous surgical procedure contraindication",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "vmmc_hts_relevance.yml"
            }
          }
        }
      },
      {
        "key": "toaster_notes_hiv_results",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "toaster_notes",
        "type": "toaster_notes",
        "text": "Client has HIV contraindication",
        "text_color": "#CF0800",
        "toaster_type": "problem",
        "relevance": {
          "step1:hiv_result": {
            "type": "string",
            "ex": "equalTo(., \"positive\")"
          }
        }
      }
    ]
  }
}